enum TransactionStatus {
  PENDING
  FAILED
  SUCCESSFUL
}

enum TransactionType {
  BUY
  SELL
  EXCHANGE
  ADD
  GIFT
}

type Transaction @model @auth(rules: [{allow: public}]) {
  id: ID!
  walletID: ID! @index(name: "byWallet")
  type: TransactionType
  amount: Float
  status: TransactionStatus
  dateTime: AWSDateTime
  receiver: Wallet @belongsTo(fields: ["walletID"])
}

type Wallet @model @auth(rules: [{allow: public}]) {
  id: ID!
  balance: Float
  gold_balance: Float
  address: String
  transactions: [Transaction] @hasMany(indexName: "byWallet", fields: ["id"])
}

type User @model @auth(rules: [{allow: public}]) {
  id: ID!
  fname: String
  lname: String
  email: AWSEmail
  phone: AWSPhone
  wallet: Wallet @hasOne
  pincode: Int
  goldProviderDetails: AWSJSON
}
 